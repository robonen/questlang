квест ПримерКвеста;
цель "Демонстрация возможностей QuestLang интерпретатора";

граф {
  узлы {
    старт: {
      тип: начальный;
      описание: "Добро пожаловать в пример квеста на QuestLang!";
      переходы: [главное_меню];
    }
    
    главное_меню: {
      тип: действие;
      описание: "Вы находитесь в главном меню. Что хотите сделать?";
      варианты: [
        ("Начать приключение", начало_приключения),
        ("Прочитать правила", правила),
        ("Выйти из игры", выход)
      ];
    }
    
    правила: {
      тип: действие;
      описание: "Правила просты: читайте текст и выбирайте действия. Ваши решения влияют на исход истории.";
      варианты: [
        ("Вернуться в меню", главное_меню),
        ("Начать играть", начало_приключения)
      ];
    }
    
    начало_приключения: {
      тип: действие;
      описание: "Вы стоите на развилке дорог. Слева ведет тропинка в тёмный лес, справа - дорога к светлому замку.";
      варианты: [
        ("Пойти в тёмный лес", тёмный_лес),
        ("Пойти к светлому замку", светлый_замок),
        ("Остаться на развилке", размышления)
      ];
    }
    
    тёмный_лес: {
      тип: действие;
      описание: "В лесу темно и страшно. Вы слышите странные звуки. Внезапно перед вами появляется волк!";
      варианты: [
        ("Попытаться подружиться с волком", друг_волка),
        ("Убежать обратно", начало_приключения),
        ("Встать в оборонительную позу", волчья_схватка)
      ];
    }
    
    светлый_замок: {
      тип: действие;
      описание: "Замок выглядит дружелюбно. У ворот вас встречает стражник в блестящих доспехах.";
      варианты: [
        ("Поговорить со стражником", разговор_со_стражником),
        ("Попытаться пройти мимо", незаметное_проникновение),
        ("Вернуться назад", начало_приключения)
      ];
    }
    
    размышления: {
      тип: действие;
      описание: "Вы размышляете о выборе. Время идёт, и скоро стемнеет.";
      варианты: [
        ("Всё же пойти в лес", тёмный_лес),
        ("Пойти к замку", светлый_замок),
        ("Вернуться домой", возвращение_домой)
      ];
    }
    
    друг_волка: {
      тип: концовка;
      название: "Необычная дружба";
      описание: "Волк оказался дружелюбным! Теперь у вас есть верный спутник, и вы вместе отправляетесь в новые приключения.";
    }
    
    волчья_схватка: {
      тип: концовка;
      название: "Героическая победа";
      описание: "Вы смело сражались с волком и победили! Ваша храбрость будет воспета в легендах.";
    }
    
    разговор_со_стражником: {
      тип: концовка;
      название: "Мудрый совет";
      описание: "Стражник рассказал вам древнюю мудрость, которая изменила вашу жизнь к лучшему.";
    }
    
    незаметное_проникновение: {
      тип: концовка;
      название: "Тайный проход";
      описание: "Вы обнаружили секретный проход в замок и нашли там древние сокровища!";
    }
    
    возвращение_домой: {
      тип: концовка;
      название: "Домашний уют";
      описание: "Иногда лучшее приключение - это возвращение домой к тёплому очагу.";
    }
    
    выход: {
      тип: концовка;
      название: "До свидания!";
      описание: "Спасибо за игру! Возвращайтесь ещё.";
    }
  }
  
  начало: старт;
}
конец;
